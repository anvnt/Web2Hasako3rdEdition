@model UELWeb2Hasako.Models.HAISANKHO

@{
    ViewBag.Title = "Details";
    Layout = "~/Views/Shared/_LayoutUser.cshtml";
}
@{
    var spgiamgia = UELWeb2Hasako.Models.SanPhamDangGiamGia.LaySanPham();
    var spmoi = UELWeb2Hasako.Models.SanPhamMoi.LaySanPham(16);
}
<!-- Single Product -->

<div class="single_product">
    <div class="container">
        <div class="row">

            <!-- Images -->
            <div class="col-lg-2 order-lg-1 order-2">
                <ul class="image_list">
                    <li data-image="@Url.Content("~/images/"+Html.DisplayFor(model => model.MOTAHAISANKHO.Hinh1))"><img src="@Url.Content("~/images/"+Html.DisplayFor(model => model.MOTAHAISANKHO.Hinh1))" alt="@Html.DisplayFor(model => model.TenHS)"></li>
                    <li data-image="@Url.Content("~/images/"+Html.DisplayFor(model => model.MOTAHAISANKHO.Hinh2))"><img src="@Url.Content("~/images/"+Html.DisplayFor(model => model.MOTAHAISANKHO.Hinh2))" alt="@Html.DisplayFor(model => model.TenHS)"></li>
                    <li data-image="@Url.Content("~/images/"+Html.DisplayFor(model => model.MOTAHAISANKHO.Hinh3))"><img src="@Url.Content("~/images/"+Html.DisplayFor(model => model.MOTAHAISANKHO.Hinh3))" alt="@Html.DisplayFor(model => model.TenHS)"></li>
                </ul>
            </div>

            <!-- Selected Image -->
            <div class="col-lg-5 order-lg-2 order-1">
                <div class="image_selected"><img src="images/single_4.jpg" alt=""></div>
            </div>

            <!-- Description -->
            <div class="col-lg-5 order-3">
                <div class="product_description">
                    <div class="product_category">
                        @Html.DisplayFor(model => model.DANHMUCHAISANKHO.TenDM)
                    </div>
                    <div class="product_name">
                        @Html.DisplayFor(model => model.TenHS)
                    </div>
                    <div class="rating_r rating_r_4 bestsellers_rating">
                        @for (int i = 1; i <= ViewBag.diem; i++)
                        {
                            <i></i>
                        }
                    </div>
                    <div class="product_text">
                        <p>
                            @Html.DisplayFor(model => model.Mota)
                        </p>
                    </div>
                    <div class="order_info d-flex flex-row">
                        <form action="#">
                            <div class="clearfix" style="z-index: 1000;">

                                <!-- Product Quantity -->
                                <div class="product_quantity clearfix">
                                    <span>Quantity: </span>
                                    <input id="quantity_input" type="text" pattern="[0-9]*" value="1">
                                    <div class="quantity_buttons">
                                        <div id="quantity_inc_button" class="quantity_inc quantity_control"><i class="fas fa-chevron-up"></i></div>
                                        <div id="quantity_dec_button" class="quantity_dec quantity_control"><i class="fas fa-chevron-down"></i></div>
                                    </div>
                                </div>

                                <!-- Product Color -->
                                <ul class="product_color">
                                    <li>
                                        <span>Color: </span>
                                        <div class="color_mark_container"><div id="selected_color" class="color_mark"></div></div>
                                        <div class="color_dropdown_button"><i class="fas fa-chevron-down"></i></div>

                                    </li>
                                </ul>

                            </div>

                            <div class="product_price">
                                @Html.DisplayFor(model => model.Dongia)
                            </div>
                            <div class="button_container">
                                <button type="button" class="button cart_button">Mua ngay</button>
                                <div class="product_fav"><i class="fas fa-heart"></i></div>
                            </div>

                        </form>
                    </div>
                </div>
            </div>

        </div>
    </div>
</div>
@*<div>
        @Html.Action("ThemMoiDanhGia", "Hasako")
    </div>*@

<div class="single_post">
    <div class="container">
        <div class="row">
            <div class="col-lg-8 offset-lg-2">
                <div class="single_post_title" style="font-size:24px">Đánh giá của khách hàng  </div>
                @Html.Action("DanhSachDanhGia", "Hasako", new { id = Model.MaHS })
            </div>
        </div>
    </div>
</div>
<div class="viewed">
    <div class="container">
        <div class="row">
            <div class="col">
                <div class="viewed_title_container">
                    <h3 class="viewed_title">Sản phẩm đã xem gần đây</h3>
                    <div class="viewed_nav_container">
                        <div class="viewed_nav viewed_prev"><i class="fas fa-chevron-left"></i></div>
                        <div class="viewed_nav viewed_next"><i class="fas fa-chevron-right"></i></div>
                    </div>
                </div>

                <div class="viewed_slider_container">

                    <!-- Recently Viewed Slider -->

                    <div class="owl-carousel owl-theme viewed_slider">
                        @foreach (var p in ViewBag.Views)
                        {
                            bool hienthi = false;
                            foreach (var spgg in spgiamgia)
                            {
                                if (spgg.MaHS == p.MaHS)
                                {
                                    hienthi = true;
                                    <div class="owl-item">
                                        <div class="viewed_item discount d-flex flex-column align-items-center justify-content-center text-center">
                                            <a href="@Url.Action("Details", "Hasako", new { id = spgg.MaHS })">
                                                <div class="viewed_image"><img src="~/images/@p.Anhbia" alt=""></div>
                                            </a>
                                            <div class="viewed_content text-center">
                                                <div class="viewed_price">
                                                    @string.Format("{0:0,0}", spgg.GiaKM) đ<span>
                                                        @string.Format("{0:0,0}", spgg.DonGia) đ
                                                    </span>
                                                </div>
                                                <div class="viewed_name">
                                                    <a href="@Url.Action("Details", "Hasako", new { id = spgg.MaHS })">
                                                        @p.TenHS
                                                    </a>
                                                </div>
                                            </div>
                                            <ul class="item_marks">
                                                <li class="item_mark item_discount">@spgg.PhanTramGiam%</li>
                                                <li class="item_mark item_new">new</li>
                                            </ul>
                                        </div>
                                    </div>
                                    break;
                                }
                            }

                            if (hienthi == false)
                            {
                                foreach (var spm in spmoi)
                                {
                                    if (spm.MaHS == p.MaHS)
                                    {
                                        hienthi = true;
                                        <!-- Recently Viewed Item -->
                                        <div class="owl-item">
                                            <div class="viewed_item is_new d-flex flex-column align-items-center justify-content-center text-center">
                                                <a href="@Url.Action("Details", "Hasako", new { id = spm.MaHS })">
                                                    <div class="viewed_image"><img src="~/images/@p.Anhbia" alt=""></div>
                                                </a>
                                                <div class="viewed_content text-center">
                                                    <div class="viewed_price">@p.Dongia đ</div>
                                                    <div class="viewed_name">
                                                        <a href="@Url.Action("Details", "Hasako", new { id = spm.MaHS })">
                                                            @p.TenHS
                                                        </a>
                                                    </div>
                                                </div>
                                                <ul class="item_marks">
                                                    @*<li class="item_mark item_discount">-25%</li>*@
                                                    <li class="item_mark item_new">mới</li>
                                                </ul>
                                            </div>
                                        </div>
                                        break;
                                    }
                                }

                            }
                            if (hienthi == false)
                            {
                                <div class="owl-item">
                                    <div class="viewed_item d-flex flex-column align-items-center justify-content-center text-center">
                                        <a href="@Url.Action("Details", "Hasako", new { id = p.MaHS })">
                                            <div class="viewed_image"><img src="~/images/@p.Anhbia" alt=""></div>
                                        </a>
                                        <div class="viewed_content text-center">
                                            <div class="viewed_price">@p.Dongia đ</div>
                                            <div class="viewed_name">
                                                <a href="@Url.Action("Details", "Hasako", new { id = p.MaHS })">
                                                    @p.TenHS
                                                </a>
                                            </div>
                                        </div>
                                        <ul class="item_marks">
                                            <li class="item_mark item_discount">-25%</li>
                                            <li class="item_mark item_new">new</li>
                                        </ul>
                                    </div>
                                </div>
                            }
                        }
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

